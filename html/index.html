<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="favicon.png" type="image/png">
    <title>AI Job Wars</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="./static/css/dpss.css" rel="stylesheet">   
    <!-- Core Framework -->
    <script src="./static/js/core/events.js"></script>
    <script src="./static/js/core/containers.js"></script>
    <script src="./static/js/core/viewport.js"></script>
    <script src="./static/js/core/asset_loader.js"></script>
    <script src="./static/js/core/graphics.js"></script>
    <script src="./static/js/core/window_manager.js"></script>
    <script src="./static/js/core/kb.js"></script>

    <!-- Rendering -->
    <script src="./static/js/rendering/audio.js"></script>
    <script src="./static/js/rendering/sprites.js"></script>
    <script src="./static/js/rendering/font.js"></script>

    <!-- UI Components -->
    <script src="./static/js/ui/components/ui_component.js"></script>
    <script src="./static/js/ui/components/button.js"></script>
    <script src="./static/js/ui/components/seekbar.js"></script>
    <script src="./static/js/ui/components/percentage_bar.js"></script>

    <!-- UI Modals -->
    <script src="./static/js/ui/modals/modal.js"></script>
    <script src="./static/js/ui/modals/cinematic_player.js"></script>
    <script src="./static/js/ui/modals/help.js"></script>
    <script src="./static/js/ui/modals/prologue.js"></script>
    <script src="./static/js/ui/modals/high_scores.js"></script>
    <script src="./static/js/ui/modals/credits.js"></script>

    <!-- UI Screens -->
    <script src="./static/js/ui/screens/intro.js"></script>
    <script src="./static/js/ui/screens/title_screen.js"></script>
    <script src="./static/js/ui/screens/menu.js"></script>
    <script src="./static/js/ui/screens/pause.js"></script>
    <script src="./static/js/ui/screens/game.js"></script>
    <script src="./static/js/ui/screens/boss_mode.js"></script>

    <!-- Cinematic System -->
    <script src="./static/js/cinematic/scene.js"></script>

    <!-- Game Objects -->
    <script src="./static/js/objects/motion.js"></script>
    <script src="./static/js/objects/object.js"></script>
    <script src="./static/js/objects/explosion.js"></script>
    <script src="./static/js/objects/debris.js"></script>
    <script src="./static/js/objects/enemy.js"></script>
    <script src="./static/js/objects/powerup.js"></script>
    <script src="./static/js/objects/projectile.js"></script>
    <script src="./static/js/objects/missiles.js"></script>
    <script src="./static/js/objects/ship.js"></script>
    <script src="./static/js/objects/boss.js"></script>
    <script src="./static/js/objects/mine.js"></script>

    <!-- Game Logic -->
    <script src="./static/js/logic/fire_control.js"></script>
    <script src="./static/js/logic/level.js"></script>
    <script src="./static/js/logic/ui.js"></script>
    <script>
        function initGame(){
            // Get initial screen dimensions from HTML elements
            const canvas = document.getElementById('gameCanvas');
            const canvasRect = canvas.getBoundingClientRect();
            const initialWidth = canvasRect.width;
            const initialHeight = canvasRect.height;            
            
            const elementIds = {
              canvasId: 'gameCanvas',
              overlay_id: 'overlay',
              boss_mode_id: 'boss_mode',
              game_id: 'game',
            };
            
            const wm = new window_manager(elementIds);
            wm.graphics.on("complete",()=> {
              // Add title screen first (stays on top, anchored)
              let title = new title_screen();
              wm.add(title);

              // Add menu below title
              let modal = new menu();
              modal.title_component = title;  // Reference to title for positioning
              wm.add(modal);
            });

        }

        document.addEventListener('DOMContentLoaded', function () {
          document.getElementById('intro').style.display = 'none';
          document.getElementById('boss_mode').style.display = 'none';
          document.getElementById('game').style.display = 'block';
          initBossMode();
          initGame();
        });
        
    </script>

</head>
<body>
<div id="intro">
    <div id="overlay">
    </div>

    <footer id="intro_footer">
      <div class="footer-left">
        <a href="https://github.com/chris17453/aijobwars" style="color: #fff;" target="_blank">GitHub</a>
      </div>
      <div class="footer-right">
        Chris Watkins | <a href="https://www.linkedin.com/in/chris17453" style="color: #fff;" target="_blank">LinkedIn</a>
      </div>
    </footer>
</div> <!-- END INTRO DIV -->
<div id="game">
  <div id="game-overlay">
  </div>
    <canvas id="gameCanvas"  tabindex="0" >You've got an old browser.</canvas>

    <footer id="game_footer">
      <div class="footer-left">
        <a href="https://github.com/chris17453/aijobwars" style="color: #fff;" target="_blank">GitHub</a>
      </div>
      <div class="footer-right">
        Chris Watkins | <a href="https://www.linkedin.com/in/chris17453" style="color: #fff;" target="_blank">LinkedIn</a>
      </div>
    </footer>
</div> <!-- END GAME DIV -->
<div id="pause"> 
   
</div> <!-- END PAUSE DIV -->
<div id="boss_mode">
    <div class="excel-container">
        <div class="excel-ribbon">
            <div class="excel-tabs">
                <span class="excel-tab active" onclick="handleRibbonTab('Home')">Home</span>
                <span class="excel-tab" onclick="handleRibbonTab('Insert')">Insert</span>
                <span class="excel-tab" onclick="handleRibbonTab('Page Layout')">Page Layout</span>
                <span class="excel-tab" onclick="handleRibbonTab('Formulas')">Formulas</span>
                <span class="excel-tab" onclick="handleRibbonTab('Data')">Data</span>
                <span class="excel-tab" onclick="handleRibbonTab('Review')">Review</span>
                <span class="excel-tab" onclick="handleRibbonTab('View')">View</span>
            </div>
        </div>
        <div class="excel-formula-bar">
            <div class="formula-cell-ref">A1</div>
            <div class="formula-input">=SUM(B2:B10)</div>
        </div>
        <div class="excel-spreadsheet">
            <div class="excel-row-headers" id="row-headers">
                <div class="excel-corner"></div>
            </div>
            <div class="excel-grid-container">
                <div class="excel-column-headers" id="col-headers">
                </div>
                <div class="excel-grid" id="excel-grid"></div>
            </div>
        </div>
        <div class="excel-sheet-tabs">
            <div class="sheet-tab active" onclick="switchTab('Budget')">Budget</div>
            <div class="sheet-tab" onclick="switchTab('Revenue')">Revenue</div>
            <div class="sheet-tab" onclick="switchTab('Headcount')">Headcount</div>
            <div class="add-sheet-btn">+</div>
        </div>
        <div class="excel-status-bar">
            <div class="status-left">Ready</div>
            <div class="status-right">
                <span class="status-item">Average: $425,250</span>
                <span class="status-item">Count: 156</span>
                <span class="status-item">Sum: $12,600,000</span>
                <span class="status-zoom">100%</span>
            </div>
        </div>
    </div>
</div> <!-- END BOSS MODE DIV -->
</body>
</html>
